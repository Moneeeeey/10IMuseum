<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> 10I Museum </title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="img/10I.png">
  <link rel="stylesheet" href="css/stylesheet.css">


  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Caslon+Text:ital,wght@0,400;0,700;1,400&display=swap"
    rel="stylesheet">

</head>

<body id="bodyhomepage">

  <a href="index.html">
    <img id="logowindows" src="img/10Ipng.png" draggable="false" />
  </a>
  <div id="outlinee"> </div>

  <div id="DivWindows">


    <img id="windows" src="img/Windows98NEWWW.jpg" draggable="false" />



  </div>

  <img id="paint" class="draggable-box" draggable="true" src="img/PaintpngNEWWW.png" />

  <img id="explorer" class="draggable-box" draggable="true" src="img/InternetExplorer.png" />

  <img id="Mahjong" class="draggable-box" draggable="true" src="img/Mahjongnewww.png" />

  <img id="calculator" class="draggable-box" draggable="true" src="img/Mediaicon.png" />

  <img id="games" class="draggable-box" draggable="true" src="img/GamesNEw.png" />

  <img id="clippy" src="img/Clippynew.png" draggable="false" />

  <img id="Minesweeper" class="draggable-box" draggable="true" src="img/Minesweeper_200510I.png" />

  <div id="clippyPopup" class="popup">
    <div id="popup-contentabout">

      <img id="posterabout" src="img/ABOUTposter1.png" />


      <div id="social-media-links">
        <a href="https://www.instagram.com/itsmmani/" target="_blank">  <img id="instagramicon" src="img/icons8-instagram-240.png" draggable="false"> </a> 
        <a href="https://www.behance.net/maniesmaili" target="_blank"> <img id="behanceicon" src="img/icons8-behance-240.png" draggable="false"> </a> 
        <a href="https://www.linkedin.com/in/mani-atasay-a98bb3257/" target="_blank"> <img id="linkedinicon" src="img/icons8-linkedin-240.png" draggable="false"> </a> 
      </div>
    </div>
  </div>


  <div id="paintPopup" class="popup">
    <div id="popup-contentpaint">
      <img id="posterpaint" src="img/PaintPoster.png" />



      <div id="canvas-container">
        <canvas id="paintCanvas" width="1130" height="460"> </canvas>
      </div>
      <div id="Colors">
        <div class="color-box" style="background-color: #3D3D3D;" data-color="#3D3D3D"></div>
        <div class="color-box" style="background-color: #B8B8B8;" data-color="#B8B8B8"></div>
        <div class="color-box" style="background-color: #d50a00;" data-color="#d50a00"></div>
        <div class="color-box" style="background-color: #FF231C;" data-color="#FF231C"></div>





      </div>
    </div>
  </div>



  <div id="explorerPopup" class="popup">
    <div id="popup-contentexplorer">
      <br>
      <img id="PosterExplorer" src="img/Internet ExplorerPoster.png" />
    </div>
  </div>


  <div id="MahjongPopup" class="popup">
    <div id="popup-contentmahjong">
      <h2>

      </h2>
      <a href="https://www.free-play-mahjong.com/" target="_blank"> <img id="Poster" src="img/MahjongPosterr.png" /></a>


    </div>
  </div>





  <div id="GamesPopup" class="popup">
    <div id="popup-contentgame">
      <h2>

      </h2>
      <img id="Poster" src="img/GamesPoster.png" />


    </div>
  </div>

  <div id="MinesweeperPopup" class="popup">
    <div id="popup-contentMinesweeper">

      <img id="PosterMinesweeper" src="img/MinesweeperPoster.png" />



      <table id=grid>
      </table>
      <BUTTON onclick="generateGrid();" id="button">Reset</BUTTON>

    </div>
  </div>



  <div id="CalcPopup" class="popup">
    <div id="popup-contentcalculator">

      <img id="PosterMediaplayer" src="img/Media Player.png" />

      <iframe id="youtubevideo" src="https://www.youtube.com/embed/a3AsQZ7Tilg?si=q-oBFz7om3MyJzkdautoplay"
        frameborder="0" allowfullscreen></iframe>




    </div>
  </div>



  <script>
    /* Code was found at W3 Schools */



    let offsetX, offsetY, draggedElement;

    document.addEventListener("dragstart", function (event) {
      draggedElement = event.target;
      offsetX = event.clientX - draggedElement.getBoundingClientRect().left;
      offsetY = event.clientY - draggedElement.getBoundingClientRect().top;
    });

    document.addEventListener("dragover", function (event) {
      event.preventDefault();
    });

    document.addEventListener("drop", function (event) {
      event.preventDefault();
      if (draggedElement) {
        draggedElement.style.left = event.clientX - offsetX + "px";
        draggedElement.style.top = event.clientY - offsetY + "px";


      }
    });

    document.addEventListener("dragend", function () {
      draggedElement = null;
      offsetX = 0;
      offsetY = 0;
    });





    clippy.addEventListener("click", function () {
      clippyPopup.classList.add("show");
    });

    window.addEventListener("click", function (event) {
      if (event.target == clippyPopup) {
        clippyPopup.classList.remove("show");
      }
    });


    paint.addEventListener("click", function () {
      paintPopup.classList.add("show");
    });

    window.addEventListener("click", function (event) {
      if (event.target == paintPopup) {
        paintPopup.classList.remove("show");
      }
    });



    explorer.addEventListener("click", function () {
      explorerPopup.classList.add("show");
    });

    window.addEventListener("click", function (event) {
      if (event.target == explorerPopup) {
        explorerPopup.classList.remove("show");
      }
    });




    games.addEventListener("click", function () {
      GamesPopup.classList.add("show");
    });

    window.addEventListener("click", function (event) {
      if (event.target == GamesPopup) {
        GamesPopup.classList.remove("show");
      }
    });




    Minesweeper.addEventListener("click", function () {
      MinesweeperPopup.classList.add("show");
    });

    window.addEventListener("click", function (event) {
      if (event.target == MinesweeperPopup) {
        MinesweeperPopup.classList.remove("show");
      }
    });





    calculator.addEventListener("click", function () {
      CalcPopup.classList.add("show");
    });

    window.addEventListener("click", function (event) {
      if (event.target == CalcPopup) {
        CalcPopup.classList.remove("show");
      }
    });





    Mahjong.addEventListener("click", function () {
      MahjongPopup.classList.add("show");
    });

    window.addEventListener("click", function (event) {
      if (event.target == MahjongPopup) {
        MahjongPopup.classList.remove("show");
      }
    });













    var canvas = document.getElementById('paintCanvas');
    var ctx = canvas.getContext('2d');

    // Get the color boxes
    var colorBoxes = document.querySelectorAll('.color-box');

    // Variables to track mouse movements
    var painting = false;
    var lastX = 0;
    var lastY = 0;
    var currentColor = '#000000'; // Default color

    // Function to start painting
    function startPainting(e) {
      painting = true;
      [lastX, lastY] = [e.offsetX, e.offsetY];
    }

    // Function to stop painting
    function stopPainting() {
      painting = false;
    }

    // Function to draw
    function draw(e) {
      if (!painting) return;
      ctx.strokeStyle = currentColor; // Set current color
      ctx.lineWidth = 5; // Set line width
      ctx.lineCap = 'round'; // Set line cap style
      ctx.beginPath();
      ctx.moveTo(lastX, lastY); // Start from
      ctx.lineTo(e.offsetX, e.offsetY); // Go to
      ctx.stroke(); // Draw the path
      [lastX, lastY] = [e.offsetX, e.offsetY];
    }

    // Event listener for color boxes
    colorBoxes.forEach(function (colorBox) {
      colorBox.addEventListener('click', function () {
        currentColor = this.getAttribute('data-color'); // Set current color
      });
    });

    // Event listeners for canvas
    canvas.addEventListener('mousedown', startPainting);
    canvas.addEventListener('mouseup', stopPainting);
    canvas.addEventListener('mouseout', stopPainting);
    canvas.addEventListener('mousemove', draw);











    var grid = document.getElementById("grid");
    var testMode = false; //Turn this variable to true to see where the mines are
    generateGrid();

    function generateGrid() {
      //generate 10 by 10 grid
      grid.innerHTML = "";
      for (var i = 0; i < 10; i++) {
        row = grid.insertRow(i);
        for (var j = 0; j < 10; j++) {
          cell = row.insertCell(j);
          cell.onclick = function () { clickCell(this); };
          cell.oncontextmenu = function () { markCell(this); return false; }; // Prevent default context menu on right click
          var mine = document.createAttribute("data-mine");
          mine.value = "false";
          cell.setAttributeNode(mine);
        }
      }
      addMines();
    }

    function addMines() {
      //Add mines randomly
      for (var i = 0; i < 20; i++) {
        var row = Math.floor(Math.random() * 10);
        var col = Math.floor(Math.random() * 10);
        var cell = grid.rows[row].cells[col];
        cell.setAttribute("data-mine", "true");
        if (testMode) cell.innerHTML = "X";
      }
    }

    function revealMines() {
      //Highlight all mines in red
      for (var i = 0; i < 10; i++) {
        for (var j = 0; j < 10; j++) {
          var cell = grid.rows[i].cells[j];
          if (cell.getAttribute("data-mine") == "true" && cell.innerHTML != "F") cell.className = "mine";
        }
      }
    }

    function checkLevelCompletion() {
      var levelComplete = true;
      for (var i = 0; i < 10; i++) {
        for (var j = 0; j < 10; j++) {
          if ((grid.rows[i].cells[j].getAttribute("data-mine") == "false") && (grid.rows[i].cells[j].innerHTML == "")) levelComplete = false;
        }
      }
      if (levelComplete) {
        alert("You Win!");
        revealMines();
      }
    }

    function clickCell(cell) {
      //Check if the end-user clicked on a mine
      if (cell.getAttribute("data-mine") == "true") {
        revealMines();
        alert("Game Over");
      } else {
        cell.className = "clicked";
        //Count and display the number of adjacent mines
        var mineCount = 0;
        var cellRow = cell.parentNode.rowIndex;
        var cellCol = cell.cellIndex;
        //alert(cellRow + " " + cellCol);
        for (var i = Math.max(cellRow - 1, 0); i <= Math.min(cellRow + 1, 9); i++) {
          for (var j = Math.max(cellCol - 1, 0); j <= Math.min(cellCol + 1, 9); j++) {
            if (grid.rows[i].cells[j].getAttribute("data-mine") == "true") mineCount++;
          }
        }
        cell.innerHTML = mineCount;
        if (mineCount == 0) {
          //Reveal all adjacent cells as they do not have a mine
          for (var i = Math.max(cellRow - 1, 0); i <= Math.min(cellRow + 1, 9); i++) {
            for (var j = Math.max(cellCol - 1, 0); j <= Math.min(cellCol + 1, 9); j++) {
              //Recursive Call
              if (grid.rows[i].cells[j].innerHTML == "") clickCell(grid.rows[i].cells[j]);
            }
          }
        }
        checkLevelCompletion();
      }
    }

    function markCell(cell) {
      if (cell.innerHTML == "") {
        cell.innerHTML = "F"; // Place flag
        cell.className = "flagged";
      } else if (cell.innerHTML == "F") {
        cell.innerHTML = ""; // Remove flag
        cell.className = "";
      }
    }




  </script>
</body>


</html>